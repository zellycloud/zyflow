schema: spec-driven

context: |
  # ZyFlow - OpenSpec Workflow Dashboard

  ## Purpose
  Local dashboard for OpenSpec workflow visualization and task management.
  - Visualize OpenSpec change tasks.md in kanban format
  - Manage detailed plans per task (generated by Claude)
  - TDD test status integration
  - Personal development dashboard (not SaaS)

  ## Tech Stack
  Frontend:
  - React 19 - UI library
  - Vite 6 - Build tool
  - TypeScript - Type system
  - ShadcnUI (Radix UI based) - UI components
  - TailwindCSS 4 - Styling
  - TanStack Query - Server state management
  - @dnd-kit - Drag and drop

  Backend (Local):
  - Node.js + Express - File system access
  - File-based data (backlog/*.md, openspec/*.md)

  ## Code Conventions
  - ESLint + Prettier
  - File names: kebab-case (task-card.tsx)
  - Component names: PascalCase (TaskCard)
  - Functions/variables: camelCase (handleDrop)
  - Type names: PascalCase with suffix (TaskProps, TaskState)
  - Absolute imports: @/ prefix

  ## Architecture
  - Feature-based folder structure: src/features/tasks/, src/features/specs/
  - Container/Presentational separation
  - Colocation: related files in same folder
  - Barrel exports via index.ts

  ## Domain Concepts
  - Change: OpenSpec change proposal (openspec/changes/*/)
  - Task: Checklist item from tasks.md
  - Plan: Detailed implementation plan (.zyflow/plans/)
  - Spec: Implemented feature specification (openspec/specs/)

  ## Constraints
  - Local only: No server deployment, localhost only
  - File system dependent: Requires Node.js fs module
  - Browser security: Local API server required for file access
  - No over-abstraction: Refactor only when needed
  - Open source, no commercialization goal

rules:
  proposal:
    - Keep proposals focused on single change scope
    - Include clear Why section explaining motivation
    - List affected specs and code explicitly
    - Mark breaking changes with **BREAKING** prefix

  specs:
    - Use Given/When/Then format for scenarios
    - One scenario per requirement minimum
    - Cross-reference related capabilities
    - Use delta operators (ADDED/MODIFIED/REMOVED)

  design:
    - Include only for cross-cutting changes
    - Document new external dependencies
    - Cover security/performance/migration complexity
    - Add architecture diagrams when helpful

  tasks:
    - Break into small, verifiable work items
    - Use Phase N: and N.N section format
    - Include validation steps (tests, tooling)
    - Mark dependencies and parallelizable work
    - Use exactly 2-space indent for subtasks

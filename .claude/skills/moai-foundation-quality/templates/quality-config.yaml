# Enterprise Code Quality Configuration Template
# Comprehensive configuration for moai-core-quality skill
# Copy and customize this template for your project

# Quality Analysis Configuration
quality_analysis:
  # Core settings
  enabled: true
  trust5_framework: true
  proactive_analysis: true
  best_practices_enforcement: true
  context7_integration: true

  # Quality thresholds
  quality_threshold: 0.85              # Overall quality gate threshold
  test_coverage_threshold: 0.85        # Minimum test coverage
  security_threshold: 0.90             # Security compliance threshold
  complexity_threshold: 10             # Maximum cyclomatic complexity

  # Analysis scope
  languages: ["python", "typescript", "javascript"]
  focus_areas:
    - "security"
    - "performance"
    - "maintainability"
    - "testing"
    - "documentation"

  # File patterns
  include_patterns:
    - "src/**/*.py"
    - "src/**/*.js"
    - "src/**/*.ts"
    - "src/**/*.jsx"
    - "src/**/*.tsx"
    - "lib/**/*.py"
    - "lib/**/*.js"
    - "lib/**/*.ts"

  exclude_patterns:
    - "**/__pycache__/**"
    - "**/node_modules/**"
    - "**/dist/**"
    - "**/build/**"
    - "**/vendor/**"
    - "**/*.test.js"
    - "**/*.test.ts"
    - "**/*.spec.js"
    - "**/*.spec.ts"
    - "**/coverage/**"
    - "**/.pytest_cache/**"

# TRUST 5 Framework Configuration
trust5_framework:
  enabled: true
  thresholds:
    overall: 0.85
    testable: 0.90
    readable: 0.80
    unified: 0.85
    secured: 0.90
    trackable: 0.80

  testable:
    coverage_types: ["line", "branch", "function"]
    minimum_test_types: ["unit"]
    test_quality_threshold: 0.80
    flaky_test_threshold: 0.05

  readable:
    naming_convention_enforcement: true
    documentation_threshold: 0.70
    complexity_threshold: 10
    method_length_threshold: 50
    class_size_threshold: 300

  unified:
    style_guide_enforcement: true
    pattern_consistency_threshold: 0.85
    library_usage_consistency: true
    architectural_pattern_validation: true

  secured:
    owasp_compliance: true
    security_scan_enabled: true
    dependency_vulnerability_scan: true
    sensitive_data_detection: true

  trackable:
    change_tracking: true
    version_control_validation: true
    commit_message_standards: true
    issue_linking_enforcement: true

# Proactive Analysis Configuration
proactive_analysis:
  enabled: true
  scan_frequency: "on_commit"  # on_commit, daily, weekly
  auto_fix_safe_issues: true
  severity_filter: "medium"    # low, medium, high, critical

  security_analysis:
    enabled: true
    owasp_categories:
      - "A01: Broken Access Control"
      - "A02: Cryptographic Failures"
      - "A03: Injection"
      - "A04: Insecure Design"
      - "A05: Security Misconfiguration"
      - "A06: Vulnerable Components"
      - "A07: Authentication Failures"

    custom_rules:
      - "hardcoded_secrets"
      - "sql_injection"
      - "xss_vulnerabilities"
      - "insecure_deserialization"

  performance_analysis:
    enabled: true
    analysis_types:
      - "algorithm_complexity"
      - "database_queries"
      - "memory_usage"
      - "concurrency_issues"
      - "resource_leaks"

    performance_thresholds:
      max_cyclomatic_complexity: 10
      max_method_lines: 50
      max_class_methods: 20
      max_nesting_depth: 4

  maintainability_analysis:
    enabled: true
    metrics:
      - "code_duplication"
      - "technical_debt"
      - "code_churn"
      - "coupling_analysis"
      - "cohesion_analysis"

    duplication_threshold: 0.03      # 3% duplication threshold
    technical_debt_threshold: 8.0   # 8 hours per file threshold

# Best Practices Engine Configuration
best_practices:
  enabled: true
  context7_integration: true
  auto_update_standards: true
  compliance_target: 0.85

  language_rules:
    python:
      style_guide: "pep8"
      linter: "ruff"
      formatter: "black"
      type_checker: "mypy"
      test_framework: "pytest"

      naming_conventions:
        variables: "snake_case"
        functions: "snake_case"
        classes: "PascalCase"
        constants: "UPPER_CASE"
        private_members: "_leading_underscore"

      docstring_style: "google"
      type_hint_enforcement: true
      import_organization: true

    typescript:
      style_guide: "google"
      linter: "eslint"
      formatter: "prettier"
      type_checker: "tsc"
      test_framework: "jest"

      naming_conventions:
        variables: "camelCase"
        functions: "camelCase"
        classes: "PascalCase"
        interfaces: "PascalCase"
        types: "PascalCase"
        constants: "UPPER_SNAKE_CASE"

      strict_mode: true
      no_implicit_any: true
      explicit_return_types: true

    javascript:
      style_guide: "airbnb"
      linter: "eslint"
      formatter: "prettier"
      test_framework: "jest"

      naming_conventions:
        variables: "camelCase"
        functions: "camelCase"
        classes: "PascalCase"
        constants: "UPPER_SNAKE_CASE"

      es6_plus_features: true
      async_await_enforcement: true

    go:
      style_guide: "gofmt"
      linter: "golangci-lint"
      formatter: "gofmt"
      test_framework: "go test"

      naming_conventions:
        variables: "camelCase"
        functions: "camelCase"
        types: "PascalCase"
        interfaces: "PascalCase"
        constants: "UPPER_SNAKE_CASE"

      error_handling: "explicit_errors"
      goroutine_analysis: true

  cross_language_consistency:
    enabled: true
    consistency_rules:
      - "naming_patterns"
      - "error_handling"
      - "logging_patterns"
      - "documentation_style"

    consistency_threshold: 0.80

# Context7 Integration Configuration
context7:
  enabled: true
  cache_ttl: 3600              # 1 hour cache
  max_tokens: 5000             # Maximum tokens per request
  request_timeout: 30          # Request timeout in seconds

  library_mappings:
    # Frontend
    "react": "/facebook/react"
    "vue": "/vuejs/vue"
    "angular": "/angular/angular"
    "typescript": "/microsoft/TypeScript"

    # Backend
    "python": "/python/cpython"
    "fastapi": "/tiangolo/fastapi"
    "django": "/django/django"
    "flask": "/pallets/flask"
    "nodejs": "/nodejs/node"
    "express": "/expressjs/express"

    # Database
    "postgresql": "/postgresql/postgres"
    "mongodb": "/mongodb/mongo"
    "redis": "/redis/redis"

    # Security
    "owasp": "/owasp/owasp-top-ten"
    "bandit": "/PyCQA/bandit"
    "snyk": "/snyk/snyk"

# Reporting Configuration
reporting:
  enabled: true
  auto_generate: true
  formats: ["html", "json", "sarif"]
  output_directory: ".moai/reports/quality"

  html_report:
    theme: "enterprise"
    include_charts: true
    interactive_elements: true
    executive_summary: true

  json_report:
    detailed_metrics: true
    include_recommendations: true
    raw_data: false

  sarif_report:
    github_actions_compatible: true
    include_rules: true
    severity_levels: true

  # Report scheduling
  schedule:
    daily_reports: true
    weekly_summary: true
    monthly_trends: true
    quarterly_benchmark: true

# Quality Metrics Configuration
metrics:
  collection_enabled: true
  retention_days: 90
  trend_analysis: true
  benchmark_comparison: true

  core_metrics:
    - "overall_quality_score"
    - "test_coverage"
    - "security_score"
    - "maintainability_index"
    - "technical_debt_hours"
    - "code_duplication_percentage"

  detailed_metrics:
    - "cyclomatic_complexity"
    - "cognitive_complexity"
    - "lines_of_code"
    - "comment_ratio"
    - "function_points"
    - "security_vulnerabilities"

  thresholds:
    excellent:
      overall_quality: 0.90
      test_coverage: 0.95
      security_score: 0.95

    good:
      overall_quality: 0.80
      test_coverage: 0.85
      security_score: 0.85

    adequate:
      overall_quality: 0.70
      test_coverage: 0.75
      security_score: 0.75

# Integration Configuration
integrations:
  # CI/CD Integration
  cicd:
    enabled: true
    quality_gate_enforcement: true
    fail_on_threshold: true
    generate_badges: true

    github_actions:
      enabled: true
      workflow_file: ".github/workflows/quality-gate.yml"
      auto_pr_comment: true
      status_checks: true

    jenkins:
      enabled: false
      plugin_integration: true

    gitlab_ci:
      enabled: false
      include_artifacts: true

  # Monitoring Integration
  monitoring:
    enabled: true
    real_time_alerts: true
    slack_webhook: ""
    email_notifications: []

    alert_thresholds:
      quality_degradation: 0.05
      security_vulnerabilities: 1
      test_coverage_drop: 0.10
      technical_debt_increase: 10.0

  # Issue Tracker Integration
  issue_tracking:
    enabled: false
    platform: "github"  # github, jira, gitlab
    auto_create_tickets: true
    ticket_template: "quality_violation"

# Custom Rules Configuration
custom_rules:
  enabled: true
  rules_directory: ".moai/quality-rules"

  enterprise_rules:
    - name: "company_naming_conventions"
      description: "Company-specific naming standards"
      severity: "medium"
      enabled: true

    - name: "security_policy_compliance"
      description: "Internal security policy requirements"
      severity: "high"
      enabled: true

    - name: "api_design_standards"
      description: "REST API design guidelines"
      severity: "medium"
      enabled: true

# Environment-Specific Configuration
environments:
  development:
    debug_mode: true
    verbose_logging: true
    relaxed_thresholds: true
    auto_fix_enabled: true

    thresholds:
      quality_threshold: 0.75
      test_coverage_threshold: 0.70
      security_threshold: 0.80

  staging:
    debug_mode: false
    verbose_logging: true
    relaxed_thresholds: false
    auto_fix_enabled: false

    thresholds:
      quality_threshold: 0.80
      test_coverage_threshold: 0.80
      security_threshold: 0.85

  production:
    debug_mode: false
    verbose_logging: false
    relaxed_thresholds: false
    auto_fix_enabled: false

    thresholds:
      quality_threshold: 0.85
      test_coverage_threshold: 0.85
      security_threshold: 0.90

# Performance Configuration
performance:
  # Analysis performance
  max_concurrent_files: 50
  timeout_per_file: 30          # seconds
  memory_limit: "2GB"

  # Caching
  cache_enabled: true
  cache_directory: ".moai/cache/quality"
  cache_ttl: 3600               # 1 hour

  # Parallel processing
  parallel_analysis: true
  max_workers: 4
  chunk_size: 10

# Security Configuration
security:
  # Analysis security
  scan_dependencies: true
  scan_secrets: true
  scan_vulnerabilities: true

  # Security tools
  tools:
    bandit:
      enabled: true
      config_file: ".bandit"

    safety:
      enabled: true
      config_file: ".safety"

    snyk:
      enabled: false
      api_token: ""

    semgrep:
      enabled: false
      config_file: ".semgrep.yml"

# Notification Configuration
notifications:
  enabled: true

  channels:
    slack:
      enabled: false
      webhook_url: ""
      channel: "#quality-alerts"

    email:
      enabled: false
      smtp_server: ""
      smtp_port: 587
      username: ""
      recipients: []

    webhook:
      enabled: false
      url: ""
      headers: {}

  # Notification triggers
  triggers:
    quality_gate_failure: true
    security_vulnerability: true
    performance_degradation: true
    technical_debt_increase: true

# Advanced Configuration
advanced:
  # Machine Learning
  ml_prediction:
    enabled: false
    model_path: ""
    training_data_path: ""

  # Custom Validators
  custom_validators:
    directory: ".moai/validators"
    auto_load: true

  # Experimental Features
  experimental_features:
    enabled: false
    features: []